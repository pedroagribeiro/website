---
import Button from './Button.astro'
import Divider from '../ui/Divider.astro'
import EmailArt from './EmailArt.astro'
import FadedText from '../ui/FadedText.astro'

const supported_pages = [
    {
        name: "Home",
        slug: "/home"
    },
    {
        name: "Work",
        slug: "/work"
    },
    {
        name: "Blog",
        slug: "/blog"
    }
]

const is_current_page = (page_slug: string): boolean => {
    return Astro.url.pathname.includes(page_slug);
}
---

<div>
    <div class="w-full flex flex-row justify-between h-20 items-center">
        <div class="flex flex-row space-x-4 items-center">
            <EmailArt />
            <p class="text-secondary text-sm md:text-md hidden md:block">pedroalgoribeiro@gmail.com</p>
        </div>
        <div class="flex flex-row space-x-4 md:space-x-6 text-secondary text-sm md:text-md">
            {supported_pages.map((page) => (
                is_current_page(page.slug) ?
                    <FadedText><Button title={page.name} href={page.slug} /></FadedText> : 
                    <Button title={page.name} href={page.slug} />
            ))}
        </div>
    </div>
    <Divider />
</div>
